<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T·∫°o CV - Test ƒê√°nh M√°y KJC</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        /* GI·ªÆ NGUY√äN TO√ÄN B·ªò CSS C·ª¶A B·∫†N */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #B3E5FC, #F8BBD0);
            min-height: 100vh;
            color: #333;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            padding-top: 100px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 1;
        }

        /* Header Styles */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 20px;
            left: 200px;
            right: 200px;
            padding: 10px 30px;
            z-index: 2;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 100px;
            height: 50px;
            object-fit: contain;
            display: block;
        }

        .logo-text {
            font-size: 24px;
            font-weight: 600;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav li {
            margin-left: 20px;
        }

        nav a {
            text-decoration: none;
            color: #fff;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 20px;
            transition: all 0.3s ease;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }

        nav a:hover {
            background-color: rgba(255,255,255,0.2);
        }

        nav a.active {
            background-color: rgba(255,255,255,0.3);
        }

        /* CV Builder Styles */
        .cv-builder-title {
            text-align: center;
            color: white;
            margin: 0 0 30px 0;
            font-size: 32px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
        }

        .cv-container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            margin: 30px 0;
        }

        .cv-form {
            flex: 1;
            min-width: 300px;
            background-color: rgba(255,255,255,0.9);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            max-height: 800px;
            overflow-y: auto;
        }

        .cv-preview {
            flex: 1;
            min-width: 300px;
            background-color: rgba(255,255,255,0.9);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            max-height: 800px;
            overflow-y: auto;
        }

        .form-section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #1a237e;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
            font-size: 14px;
        }

        input, textarea, select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid rgba(0,0,0,0.2);
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #4A90E2;
            box-shadow: 0 0 0 2px rgba(74,144,226,0.2);
        }

        textarea {
            min-height: 80px;
            resize: vertical;
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        /* CV Template Styles - ƒê√£ t·ªëi ∆∞u ƒë·ªÉ hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß trong m·ªôt trang */
        .cv-template-container {
            width: 100%;
            background-color: white;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            padding: 25px;
            position: relative;
            overflow: hidden;
            margin: 0 auto;
            font-size: 12px;
            line-height: 1.3;
        }
        
        .background-logo {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.08;
            z-index: 0;
            width: 80%;
            max-width: 500px;
        }
        
        .background-logo img {
            width: 100%;
            height: auto;
        }
        
        .cv-content {
            position: relative;
            z-index: 1;
        }
        
        .cv-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .cv-photo-container {
            width: 120px;
            height: 150px;
            position: relative;
        }
        
        .cv-photo-placeholder {
            width: 100%;
            height: 100%;
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #666;
            overflow: hidden;
            position: relative;
        }
        
        .cv-photo-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .sample-photo-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            opacity: 0;
            transition: opacity 0.3s ease;
            text-align: center;
            padding: 10px;
        }
        
        .cv-photo-placeholder:hover .sample-photo-overlay {
            opacity: 1;
        }
        
        .sample-photo-label {
            font-size: 11px;
            margin-top: 5px;
        }
        
        .cv-logo-placeholder {
            width: 250px;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid rgb(51, 152, 219);
            border-radius: 8px;
            padding: 15px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .cv-logo-placeholder:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(26, 35, 126, 0.2);
        }
        
        .cv-logo-placeholder img {
            max-width: 100%;
            max-height: 100%;
        }
        
        .cv-section {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .cv-section-title {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #2c3e50;
            text-transform: uppercase;
            padding-left: 8px;
            border-left: 3px solid rgb(51, 152, 219);
        }
        
        .cv-section-content {
            margin-left: 10px;
        }
        
        .cv-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px 15px;
        }
        
        .cv-info-item {
            margin-bottom: 5px;
            display: flex;
        }
        
        .cv-info-label {
            display: inline-block;
            width: 90px;
            font-weight: bold;
            color: #555;
            font-size: 11px;
        }
        
        .cv-info-value {
            flex: 1;
            font-size: 11px;
        }
        
        .cv-career-goals ul, .cv-work-experience ul {
            list-style-type: none;
            margin-left: 8px;
        }
        
        .cv-career-goals li, .cv-work-experience li {
            margin-bottom: 5px;
            position: relative;
            padding-left: 12px;
            font-size: 11px;
        }
        
        .cv-career-goals li:before, .cv-work-experience li:before {
            content: "‚Ä¢";
            color: #3498db;
            font-weight: bold;
            position: absolute;
            left: 0;
        }
        
        .cv-work-experience-item {
            margin-bottom: 10px;
        }
        
        .cv-work-experience-item h3 {
            font-size: 12px;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        .cv-skills {
            display: flex;
            gap: 30px;
        }
        
        .cv-skill-item {
            display: flex;
            align-items: center;
        }
        
        .cv-skill-name {
            font-weight: bold;
            margin-right: 8px;
            color: #555;
            font-size: 11px;
        }
        
        .cv-personnel {
            text-align: right;
            margin-top: 8px;
            font-weight: bold;
            color: #2c3e50;
            font-size: 11px;
        }
        
        .cv-footer {
            margin-top: 15px;
            text-align: center;
            font-size: 10px;
            color: #777;
            border-top: 1px solid #eee;
            padding-top: 8px;
        }

        .button-container {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 30px;
        }

        .btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 14px 28px;
            background-color: rgba(255,255,255,0.9);
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-decoration: none;
            color: #333;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .btn-primary {
            background: #1a237e;
            color: white;
        }

        .btn-secondary {
            background: #4CAF50;
            color: white;
        }

        /* Footer for CV Builder */
        .cv-footer-page {
            background: linear-gradient(135deg, #1a237e, #283593);
            color: white;
            padding: 50px 0 25px;
            margin-top: 60px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }

        .footer-section {
            display: flex;
            flex-direction: column;
        }

        .footer-section h3 {
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-section h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background: #FFD54F;
        }

        .footer-links {
            list-style: none;
            flex: 1;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer-links a:hover {
            color: #FFD54F;
            transform: translateX(5px);
        }

        .footer-contact p {
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: rgba(255,255,255,0.8);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            margin-top: 40px;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.7);
            font-size: 14px;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .social-links a:hover {
            background: #FFD54F;
            color: #1565C0;
            transform: translateY(-3px) rotate(5deg);
        }

        .newsletter-form {
            display: flex;
            margin-top: 15px;
        }

        .newsletter-input {
            flex: 1;
            padding: 10px 15px;
            border: none;
            border-radius: 4px 0 0 4px;
            font-size: 14px;
        }

        .newsletter-btn {
            background: #FFD54F;
            color: #1565C0;
            border: none;
            padding: 10px 15px;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .newsletter-btn:hover {
            background: #FFC107;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .cv-container {
                flex-direction: column;
            }
            
            .cv-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
                gap: 15px;
            }
            
            .cv-info-grid {
                grid-template-columns: 1fr;
            }
            
            .cv-skills {
                flex-direction: column;
                gap: 15px;
            }
            
            .button-container {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            nav li {
                margin: 5px;
            }
            
            header {
                flex-direction: column;
                gap: 15px;
                padding: 15px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .newsletter-form {
                flex-direction: column;
                gap: 10px;
            }
            
            .newsletter-input, .newsletter-btn {
                border-radius: 4px;
                width: 100%;
            }
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #4CAF50;
            color: white;
            padding: 16px;
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .toast.show {
            opacity: 1;
        }

        /* Work experience section styles */
        .work-experience-container {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            background-color: #f9f9f9;
        }

        .work-experience-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .remove-experience {
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 12px;
        }

        .remove-experience:hover {
            background-color: #d32f2f;
        }

        .add-experience {
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 8px 15px;
            cursor: pointer;
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .add-experience:hover {
            background-color: #388E3C;
        }

        /* File upload styles */
        .file-upload-container {
            margin-top: 10px;
        }

        .file-upload-label {
            display: inline-block;
            background-color: #4CAF50;
            color: white;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .file-upload-label:hover {
            background-color: #388E3C;
        }

        .file-upload-input {
            display: none;
        }

        .remove-photo {
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 5px;
            width: 100%;
        }

        .remove-photo:hover {
            background-color: #d32f2f;
        }

        /* Placeholder styles for form inputs */
        input::placeholder, textarea::placeholder {
            color: #aaa;
            font-style: italic;
        }

        /* Placeholder text for empty preview fields */
        .empty-field {
            color: #aaa;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-container">
                <img src="Public/Logo.png" alt="KJC Logo" class="logo">
                <div class="logo-text">Test ƒê√°nh M√°y KJC</div>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Trang Ch·ªß</a></li>
                    <li><a href="typing.html">Ki·ªÉm Tra ƒê√°nh M√°y</a></li>
                    <li><a href="cv.html" class="active">T·∫°o CV Xin Vi·ªác</a></li>
                </ul>
            </nav>
        </header>

        <div class="cv-container">
            <div class="cv-form">
                <div class="form-section">
                    <h3 class="section-title">üì∏ Th√¥ng Tin C√° Nh√¢n</h3>
                    <div class="form-group">
                        <label for="name">H·ªç v√† T√™n</label>
                        <input type="text" id="name" placeholder="Nh·∫≠p h·ªç v√† t√™n ƒë·∫ßy ƒë·ªß c·ªßa b·∫°n">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="birthdate">Ng√†y sinh</label>
                            <input type="date" id="birthdate">
                        </div>
                        <div class="form-group">
                            <label for="gender">Gi·ªõi t√≠nh</label>
                            <select id="gender">
                                <option value="" disabled selected>Ch·ªçn gi·ªõi t√≠nh c·ªßa b·∫°n</option>
                                <option value="Nam">Nam</option>
                                <option value="N·ªØ">N·ªØ</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="id-card">CCCD</label>
                            <input type="text" id="id-card" placeholder="Nh·∫≠p s·ªë cƒÉn c∆∞·ªõc c√¥ng d√¢n">
                        </div>
                        <div class="form-group">
                            <label for="id-issue-place">N∆°i c·∫•p</label>
                            <input type="text" id="id-issue-place" placeholder="Nh·∫≠p n∆°i c·∫•p CCCD">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nationality">Qu·ªëc t·ªãch</label>
                            <input type="text" id="nationality" placeholder="Nh·∫≠p qu·ªëc t·ªãch c·ªßa b·∫°n">
                        </div>
                        <div class="form-group">
                            <label for="ethnicity">D√¢n t·ªôc</label>
                            <input type="text" id="ethnicity" placeholder="Nh·∫≠p d√¢n t·ªôc c·ªßa b·∫°n">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="address">ƒê·ªãa ch·ªâ</label>
                        <textarea id="address" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ th∆∞·ªùng tr√∫ ƒë·∫ßy ƒë·ªß"></textarea>
                    </div>
                    <div class="form-group">
                        <label>T·∫£i ·∫£nh c√° nh√¢n</label>
                        <div class="file-upload-container">
                            <label for="photo-upload" class="file-upload-label">
                                üì∑ Ch·ªçn ·∫£nh t·ª´ m√°y t√≠nh
                            </label>
                            <input type="file" id="photo-upload" class="file-upload-input" accept="image/*">
                            <button class="remove-photo" id="remove-photo-btn" style="display: none;">X√≥a ·∫£nh</button>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="section-title">üéØ M·ª•c Ti√™u Ngh·ªÅ Nghi·ªáp</h3>
                    <div class="form-group">
                        <label for="career-goals">M·ª•c ti√™u (m·ªói m·ª•c ti√™u tr√™n m·ªôt d√≤ng)</label>
                        <textarea id="career-goals" placeholder="- C√≥ thu nh·∫≠p ·ªïn ƒë·ªãnh
- C∆° h·ªôi ph√°t tri·ªÉn b·∫£n th√¢n
- Mu·ªën g·∫Øn b√≥ l√¢u d√†i v·ªõi c√¥ng ty"></textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="section-title">üéì H·ªçc V·∫•n</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="education-level">Tr√¨nh ƒë·ªô</label>
                            <input type="text" id="education-level" placeholder="12/12, Cao ƒë·∫≥ng, ƒê·∫°i h·ªçc">
                        </div>
                        <div class="form-group">
                            <label for="education-time">Th·ªùi gian</label>
                            <input type="text" id="education-time" placeholder="V√≠ D·ª•: 2015-2018">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="school">Tr∆∞·ªùng</label>
                        <input type="text" id="school" placeholder="Nh·∫≠p t√™n tr∆∞·ªùng b·∫°n ƒë√£ h·ªçc">
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="section-title">üíº Kinh Nghi·ªám L√†m Vi·ªác</h3>
                    <div id="work-experience-container">
                        <!-- Work experience sections will be added here dynamically -->
                    </div>
                    <button class="add-experience" id="add-experience-btn">
                        <span>‚ûï</span> Th√™m Kinh Nghi·ªám L√†m Vi·ªác
                    </button>
                </div>

                <div class="form-section">
                    <h3 class="section-title">üíª Tin H·ªçc VƒÉn Ph√≤ng</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="word-skill">Word</label>
                            <select id="word-skill">
                                <option value="" disabled selected>Ch·ªçn tr√¨nh ƒë·ªô Word</option>
                                <option value="C∆° b·∫£n">C∆° b·∫£n</option>
                                <option value="Trung b√¨nh">Trung b√¨nh</option>
                                <option value="Kh√°">Kh√°</option>
                                <option value="T·ªët">T·ªët</option>
                                <option value="Chuy√™n gia">Th√†nh th·∫°o</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="excel-skill">Excel</label>
                            <select id="excel-skill">
                                <option value="" disabled selected>Ch·ªçn tr√¨nh ƒë·ªô Excel</option>
                                <option value="C∆° b·∫£n">C∆° b·∫£n</option>
                                <option value="Trung b√¨nh">Trung b√¨nh</option>
                                <option value="Kh√°">Kh√°</option>
                                <option value="T·ªët">T·ªët</option>
                                <option value="Chuy√™n gia">Th√†nh th·∫°o</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="section-title">üë§ Nh√¢n S·ª±</h3>
                    <div class="form-group">
                        <label for="personnel">Ng∆∞·ªùi ph·ª• tr√°ch</label>
                        <input type="text" id="personnel" placeholder="Nh·∫≠p t√™n ng∆∞·ªùi ph·ª• tr√°ch">
                    </div>
                </div>
            </div>
            
            <div class="cv-preview">
                <h2 style="text-align: center; margin-bottom: 20px; color: #1a237e;">Xem Tr∆∞·ªõc CV</h2>
                <div class="cv-template-container" id="cv-template">
                    <!-- Logo KJC l√†m n·ªÅn -->
                    <div class="background-logo">
                        <img src="Public/Logo.png" alt="Logo KJC Background">
                    </div>
                    
                    <div class="cv-content">
                        <div class="cv-header">
                            <div class="cv-photo-container">
                                <div class="cv-photo-placeholder" id="preview-photo">
                                    <!-- ·∫¢nh m·∫´u ƒë∆∞·ª£c ƒë·∫∑t tr·ª±c ti·∫øp trong ph·∫ßn ·∫£nh ·ª©ng vi√™n -->
                                    <img src="Public/anhmau.jpg" alt="·∫¢nh m·∫´u">
                                    <div class="sample-photo-overlay">
                                        <span>·∫¢nh m·∫´u tham kh·∫£o</span>
                                        <span class="sample-photo-label">(Di chu·ªôt ƒë·ªÉ xem)</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cv-logo-placeholder">
                                <img src="Public/Logo.png" alt="Logo C√¥ng Ty">
                            </div>
                        </div>
                        
                        <div class="cv-section">
                            <h2 class="cv-section-title">TH√îNG TIN ·ª®NG VI√äN</h2>
                            <div class="cv-section-content">
                                <div class="cv-info-grid">
                                    <div class="cv-info-item">
                                        <span class="cv-info-label">H·ªç v√† t√™n:</span>
                                        <span class="cv-info-value empty-field" id="preview-name">Ch∆∞a nh·∫≠p h·ªç t√™n</span>
                                    </div>
                                    <div class="cv-info-item">
                                        <span class="cv-info-label">Ng√†y sinh:</span>
                                        <span class="cv-info-value empty-field" id="preview-birthdate">Ch∆∞a nh·∫≠p ng√†y sinh</span>
                                    </div>
                                    <div class="cv-info-item">
                                        <span class="cv-info-label">Gi·ªõi t√≠nh:</span>
                                        <span class="cv-info-value empty-field" id="preview-gender">Ch∆∞a ch·ªçn gi·ªõi t√≠nh</span>
                                    </div>
                                    <div class="cv-info-item">
                                        <span class="cv-info-label">CCCD:</span>
                                        <span class="cv-info-value empty-field" id="preview-id">Ch∆∞a nh·∫≠p CCCD</span>
                                    </div>
                                    <div class="cv-info-item">
                                        <span class="cv-info-label">N∆°i c·∫•p:</span>
                                        <span class="cv-info-value empty-field" id="preview-id-issue-place">Ch∆∞a nh·∫≠p n∆°i c·∫•p</span>
                                    </div>
                                    <div class="cv-info-item">
                                        <span class="cv-info-label">Qu·ªëc t·ªãch:</span>
                                        <span class="cv-info-value empty-field" id="preview-nationality">Ch∆∞a nh·∫≠p qu·ªëc t·ªãch</span>
                                    </div>
                                    <div class="cv-info-item">
                                        <span class="cv-info-label">D√¢n t·ªôc:</span>
                                        <span class="cv-info-value empty-field" id="preview-ethnicity">Ch∆∞a nh·∫≠p d√¢n t·ªôc</span>
                                    </div>
                                    <div class="cv-info-item">
                                        <span class="cv-info-label">ƒê·ªãa ch·ªâ:</span>
                                        <span class="cv-info-value empty-field" id="preview-address">Ch∆∞a nh·∫≠p ƒë·ªãa ch·ªâ</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="cv-section cv-career-goals">
                            <h2 class="cv-section-title">M·ª§C TI√äU NGH·ªÄ NGHI·ªÜP</h2>
                            <div class="cv-section-content">
                                <ul id="preview-career-goals">
                                    <li class="empty-field">Ch∆∞a nh·∫≠p m·ª•c ti√™u ngh·ªÅ nghi·ªáp</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="cv-section">
                            <h2 class="cv-section-title">H·ªåC V·∫§N</h2>
                            <div class="cv-section-content">
                                <div class="cv-info-grid">
                                    <div class="cv-info-item">
                                        <span class="cv-info-label">Tr√¨nh ƒë·ªô:</span>
                                        <span class="cv-info-value empty-field" id="preview-education-level">Ch∆∞a nh·∫≠p tr√¨nh ƒë·ªô</span>
                                    </div>
                                    <div class="cv-info-item">
                                        <span class="cv-info-label">Th·ªùi gian:</span>
                                        <span class="cv-info-value empty-field" id="preview-education-time">Ch∆∞a nh·∫≠p th·ªùi gian</span>
                                    </div>
                                    <div class="cv-info-item">
                                        <span class="cv-info-label">Tr∆∞·ªùng:</span>
                                        <span class="cv-info-value empty-field" id="preview-school">Ch∆∞a nh·∫≠p t√™n tr∆∞·ªùng</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="cv-section cv-work-experience" id="preview-work-experience">
                            <h2 class="cv-section-title">KINH NGHI·ªÜM L√ÄM VI·ªÜC</h2>
                            <div class="cv-section-content">
                                <p class="empty-field">Ch∆∞a c√≥ kinh nghi·ªám l√†m vi·ªác</p>
                            </div>
                        </div>
                        
                        <div class="cv-section">
                            <h2 class="cv-section-title">TIN H·ªåC VƒÇN PH√íNG</h2>
                            <div class="cv-section-content">
                                <div class="cv-skills">
                                    <div class="cv-skill-item">
                                        <span class="cv-skill-name">WORD:</span>
                                        <span class="empty-field" id="preview-word-skill">Ch∆∞a ch·ªçn tr√¨nh ƒë·ªô</span>
                                    </div>
                                    <div class="cv-skill-item">
                                        <span class="cv-skill-name">EXCEL:</span>
                                        <span class="empty-field" id="preview-excel-skill">Ch∆∞a ch·ªçn tr√¨nh ƒë·ªô</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="cv-personnel">
                            <span class="empty-field" id="preview-personnel">Ch∆∞a nh·∫≠p t√™n ng∆∞·ªùi ph·ª• tr√°ch</span>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        <div class="button-container">
            <button class="btn btn-primary" id="generate-pdf-btn">
                <span>üìÑ</span> T·∫°o PDF CV
            </button>
            <button class="btn" id="reset-btn">
                <span>üîÑ</span> L√†m M·ªõi
            </button>
            <a href="index.html" class="btn">
                <span>üè†</span> V·ªÅ Trang Ch·ªß
            </a>
        </div>
    </div>

    <!-- Toast notification -->
    <div class="toast" id="toast"></div>

    <!-- Footer for CV Builder -->
    <footer class="cv-footer-page">
        <div class="footer-content">
            <div class="footer-section">
                <h3>V·ªÅ Test ƒê√°nh M√°y KJC</h3>
                <p>Cung c·∫•p c√°c c√¥ng c·ª• h·ªó tr·ª£ ·ª©ng tuy·ªÉn v√† l√†m vi·ªác t·∫°i Li√™n Minh Qu·ªëc T·∫ø KJC</p>
                <div class="social-links">
                </div>
            </div>
            
            <div class="footer-section">
                <h3>C√¥ng C·ª•</h3>
                <ul class="footer-links">
                     <li><a href="index.html">Trang Ch·ªß</a></li>
                    <li><a href="typing.html">Ki·ªÉm tra t·ªëc ƒë·ªô g√µ</a></li>
                    <li><a href="cv.html">T·∫°o CV chuy√™n nghi·ªáp</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>H·ªó Tr·ª£</h3>
                <ul class="footer-links">
                    <li><a href="#">Trung t√¢m tr·ª£ gi√∫p</a></li>
                    <li><a href="#">H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</a></li>
                    <li><a href="#">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a></li>
                    <li><a href="#">Li√™n h·ªá h·ªó tr·ª£</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Li√™n H·ªá</h3>
                <div class="footer-contact">
                    <p>Email: admin@kjc.com</p>
                    <p>SƒêT: 0815248322</p>
                    <p>ƒê·ªãa Ch·ªâ: 1M ƒê∆∞·ªùng S·ªë 12, T√¢n Thu·∫≠n T√¢y, Qu·∫≠n 7, Th√†nh ph·ªë H·ªì Ch√≠ Minh.</p>
                </div>
            </div>
        </div>
                    
        <div class="footer-bottom">
            <p>¬© 2025 KJC Tools. T·∫•t c·∫£ c√°c quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
        </div>
    </footer>

    <script>
        // DOM Elements
        const nameInput = document.getElementById('name');
        const birthdateInput = document.getElementById('birthdate');
        const genderInput = document.getElementById('gender');
        const idCardInput = document.getElementById('id-card');
        const idIssuePlaceInput = document.getElementById('id-issue-place');
        const nationalityInput = document.getElementById('nationality');
        const ethnicityInput = document.getElementById('ethnicity');
        const addressInput = document.getElementById('address');
        const careerGoalsInput = document.getElementById('career-goals');
        const educationLevelInput = document.getElementById('education-level');
        const educationTimeInput = document.getElementById('education-time');
        const schoolInput = document.getElementById('school');
        const wordSkillInput = document.getElementById('word-skill');
        const excelSkillInput = document.getElementById('excel-skill');
        const personnelInput = document.getElementById('personnel');
        const photoUploadInput = document.getElementById('photo-upload');
        const removePhotoBtn = document.getElementById('remove-photo-btn');
        const addExperienceBtn = document.getElementById('add-experience-btn');
        const workExperienceContainer = document.getElementById('work-experience-container');
        const previewWorkExperience = document.getElementById('preview-work-experience').querySelector('.cv-section-content');
        
        const previewName = document.getElementById('preview-name');
        const previewBirthdate = document.getElementById('preview-birthdate');
        const previewGender = document.getElementById('preview-gender');
        const previewId = document.getElementById('preview-id');
        const previewIdIssuePlace = document.getElementById('preview-id-issue-place');
        const previewNationality = document.getElementById('preview-nationality');
        const previewEthnicity = document.getElementById('preview-ethnicity');
        const previewAddress = document.getElementById('preview-address');
        const previewCareerGoals = document.getElementById('preview-career-goals');
        const previewEducationLevel = document.getElementById('preview-education-level');
        const previewEducationTime = document.getElementById('preview-education-time');
        const previewSchool = document.getElementById('preview-school');
        const previewWordSkill = document.getElementById('preview-word-skill');
        const previewExcelSkill = document.getElementById('preview-excel-skill');
        const previewPersonnel = document.getElementById('preview-personnel');
        const previewPhoto = document.getElementById('preview-photo');
        
        const generatePdfButton = document.getElementById('generate-pdf-btn');
        const resetButton = document.getElementById('reset-btn');
        const cvTemplate = document.getElementById('cv-template');
        const toast = document.getElementById('toast');

        // Work experience counter
        let workExperienceCount = 0;

        // Format date for display
        function formatDate(dateString) {
            if (!dateString) return '';
            const date = new Date(dateString);
            return date.toLocaleDateString('vi-VN');
        }

        // Show toast notification
        function showToast(message, type = 'success') {
            toast.textContent = message;
            toast.style.backgroundColor = type === 'success' ? '#4CAF50' : '#f44336';
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Improved PDF Generation Function with Better Error Handling
        async function generatePDF() {
            try {
                // Disable the generate button to prevent multiple clicks
                generatePdfButton.disabled = true;
                generatePdfButton.style.opacity = '0.5';
                generatePdfButton.style.cursor = 'not-allowed';
                
                // Check if required fields are filled
                if (!nameInput.value.trim()) {
                    showToast('Vui l√≤ng nh·∫≠p h·ªç v√† t√™n', 'error');
                    nameInput.focus();
                    return;
                }
                
                showToast('ƒêang chu·∫©n b·ªã t·∫°o PDF...', 'success');
                
                // Create sanitized filename
                const fileName = nameInput.value.trim()
                    .normalize('NFD')
                    .replace(/[\u0300-\u036f]/g, '')
                    .replace(/ƒë/g, 'd').replace(/ƒê/g, 'D')
                    .replace(/[^a-zA-Z0-9\s]/g, '')
                    .replace(/\s+/g, '_');

                // Create a deep clone of the template to avoid modifying the original
                const templateClone = cvTemplate.cloneNode(true);
                
                // Process and optimize images
                const images = templateClone.getElementsByTagName('img');
                try {
                    await Promise.all(Array.from(images).map(img => {
                        return new Promise((resolve, reject) => {
                            // Set crossOrigin for images to avoid taint canvas
                            img.crossOrigin = 'anonymous';
                            
                            if (img.complete) {
                                resolve();
                            } else {
                                img.onload = () => resolve();
                                img.onerror = () => {
                                    console.warn('Failed to load image:', img.src);
                                    // Remove failed image to prevent PDF generation failure
                                    img.remove();
                                    resolve();
                                };
                            }
                        });
                    }));
                } catch (imgError) {
                    console.warn('Some images failed to load:', imgError);
                }

                showToast('ƒêang t·∫°o PDF, vui l√≤ng ƒë·ª£i...', 'success');
                
                // Optimized PDF configuration with improved settings
                const options = {
                    margin: 10,
                    filename: `CV_${fileName}.pdf`,
                    image: { 
                        type: 'jpeg',
                        quality: 0.95
                    },
                    html2canvas: { 
                        scale: 2,
                        useCORS: true,
                        logging: true,
                        allowTaint: true,
                        imageTimeout: 30000,
                        onrendered: function(canvas) {
                            document.body.appendChild(canvas);
                        },
                        letterRendering: true,
                        removeContainer: true
                    },
                    jsPDF: { 
                        unit: 'mm',
                        format: 'a4',
                        orientation: 'portrait',
                        compress: true,
                        hotfixes: ['px_scaling']
                    },
                    pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
                };

                // Create PDF with progressive approach
                await html2pdf().set(options)
                    .from(templateClone)
                    .toPdf()
                    .get('pdf')
                    .then((pdf) => {
                        showToast('PDF ƒë√£ ƒë∆∞·ª£c t·∫°o, ƒëang chu·∫©n b·ªã t·∫£i xu·ªëng...', 'success');
                        return pdf;
                    })
                    .save();

                showToast('PDF ƒë√£ ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng!', 'success');
            } catch (error) {
                console.error('Chi ti·∫øt l·ªói khi t·∫°o PDF:', error);
                showToast('C√≥ l·ªói x·∫£y ra khi t·∫°o PDF. Vui l√≤ng th·ª≠ l·∫°i sau v√†i gi√¢y.', 'error');
            } finally {
                // Re-enable the generate button
                generatePdfButton.disabled = false;
                generatePdfButton.style.opacity = '1';
                generatePdfButton.style.cursor = 'pointer';
            }
        }

        // Add work experience section
        function addWorkExperience() {
            workExperienceCount++;
            const experienceId = `experience-${workExperienceCount}`;
            
            // Create form section
            const experienceSection = document.createElement('div');
            experienceSection.className = 'work-experience-container';
            experienceSection.id = experienceId;
            
            experienceSection.innerHTML = `
                <div class="work-experience-header">
                    <h4>Kinh nghi·ªám l√†m vi·ªác ${workExperienceCount}</h4>
                    <button type="button" class="remove-experience" data-id="${experienceId}">X√≥a</button>
                </div>
                <div class="form-group">
                    <label for="company-${workExperienceCount}">C√¥ng ty</label>
                    <input type="text" id="company-${workExperienceCount}" placeholder="Nh·∫≠p t√™n c√¥ng ty b·∫°n ƒë√£ l√†m vi·ªác" class="company-input">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="work-time-${workExperienceCount}">Th·ªùi gian</label>
                        <input type="text" id="work-time-${workExperienceCount}" placeholder="V√≠ d·ª•: 2020-2022" class="work-time-input">
                    </div>
                    <div class="form-group">
                        <label for="position-${workExperienceCount}">V·ªã tr√≠</label>
                        <input type="text" id="position-${workExperienceCount}" placeholder="Nh·∫≠p v·ªã tr√≠ c√¥ng vi·ªác" class="position-input">
                    </div>
                </div>
                <div class="form-group">
                    <label for="work-description-${workExperienceCount}">M√¥ t·∫£ c√¥ng vi·ªác</label>
                    <textarea id="work-description-${workExperienceCount}" placeholder="M√¥ t·∫£ chi ti·∫øt c√¥ng vi·ªác b·∫°n ƒë√£ l√†m" class="work-description-input"></textarea>
                </div>
            `;
            
            workExperienceContainer.appendChild(experienceSection);
            
            // Add event listeners for the new inputs
            const companyInput = document.getElementById(`company-${workExperienceCount}`);
            const workTimeInput = document.getElementById(`work-time-${workExperienceCount}`);
            const positionInput = document.getElementById(`position-${workExperienceCount}`);
            const workDescriptionInput = document.getElementById(`work-description-${workExperienceCount}`);
            
            companyInput.addEventListener('input', updateWorkExperiencePreview);
            workTimeInput.addEventListener('input', updateWorkExperiencePreview);
            positionInput.addEventListener('input', updateWorkExperiencePreview);
            workDescriptionInput.addEventListener('input', updateWorkExperiencePreview);
            
            // Add event listener for remove button
            const removeButton = experienceSection.querySelector('.remove-experience');
            removeButton.addEventListener('click', function() {
                removeWorkExperience(this.dataset.id);
            });
            
            // Update preview
            updateWorkExperiencePreview();
            
            showToast('ƒê√£ th√™m kinh nghi·ªám l√†m vi·ªác', 'success');
        }

        // Remove work experience section
        function removeWorkExperience(id) {
            const experienceSection = document.getElementById(id);
            if (experienceSection) {
                workExperienceContainer.removeChild(experienceSection);
                updateWorkExperiencePreview();
                showToast('ƒê√£ x√≥a kinh nghi·ªám l√†m vi·ªác', 'success');
            }
        }

        // Update work experience preview
        function updateWorkExperiencePreview() {
            previewWorkExperience.innerHTML = '';
            
            const experienceSections = workExperienceContainer.querySelectorAll('.work-experience-container');
            
            if (experienceSections.length === 0) {
                previewWorkExperience.innerHTML = '<p class="empty-field">Ch∆∞a c√≥ kinh nghi·ªám l√†m vi·ªác</p>';
                return;
            }
            
            experienceSections.forEach((section, index) => {
                const companyInput = section.querySelector('.company-input');
                const workTimeInput = section.querySelector('.work-time-input');
                const positionInput = section.querySelector('.position-input');
                const workDescriptionInput = section.querySelector('.work-description-input');
                
                const company = companyInput.value || '';
                const workTime = workTimeInput.value || '';
                const position = positionInput.value || '';
                const workDescription = workDescriptionInput.value || '';
                
                const experienceItem = document.createElement('div');
                experienceItem.className = 'cv-work-experience-item';
                
                if (company || workTime || position || workDescription) {
                    experienceItem.innerHTML = `
                        <h3>${company.toUpperCase() || 'Ch∆∞a nh·∫≠p t√™n c√¥ng ty'}</h3>
                        <ul>
                            <li><span class="cv-info-label">Th·ªùi gian:</span> ${workTime || 'Ch∆∞a nh·∫≠p th·ªùi gian'}</li>
                            <li><span class="cv-info-label">V·ªã tr√≠:</span> ${position || 'Ch∆∞a nh·∫≠p v·ªã tr√≠'}</li>
                            <li><span class="cv-info-label">M√¥ t·∫£ c√¥ng vi·ªác:</span> ${workDescription || 'Ch∆∞a nh·∫≠p m√¥ t·∫£ c√¥ng vi·ªác'}</li>
                        </ul>
                    `;
                } else {
                    experienceItem.innerHTML = `
                        <h3 class="empty-field">Ch∆∞a nh·∫≠p th√¥ng tin kinh nghi·ªám l√†m vi·ªác</h3>
                    `;
                }
                
                previewWorkExperience.appendChild(experienceItem);
            });
        }

        // Handle photo upload
        function handlePhotoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    previewPhoto.innerHTML = `<img src="${e.target.result}" alt="·∫¢nh ·ª©ng vi√™n">`;
                    removePhotoBtn.style.display = 'block';
                    showToast('ƒê√£ t·∫£i ·∫£nh l√™n th√†nh c√¥ng', 'success');
                };
                reader.readAsDataURL(file);
            }
        }

        // Remove photo
        function removePhoto() {
            // Khi x√≥a ·∫£nh, hi·ªÉn th·ªã l·∫°i ·∫£nh m·∫´u
            previewPhoto.innerHTML = `
                <img src="Public/anhmau.jpg" alt="·∫¢nh m·∫´u">
                <div class="sample-photo-overlay">
                    <span>·∫¢nh m·∫´u tham kh·∫£o</span>
                    <span class="sample-photo-label">(Di chu·ªôt ƒë·ªÉ xem)</span>
                </div>
            `;
            photoUploadInput.value = '';
            removePhotoBtn.style.display = 'none';
            showToast('ƒê√£ x√≥a ·∫£nh', 'success');
        }

        // Update field style based on content
        function updateFieldStyle(element, value) {
            if (value) {
                element.classList.remove('empty-field');
                element.textContent = value;
            } else {
                element.classList.add('empty-field');
                switch(element.id) {
                    case 'preview-name':
                        element.textContent = 'Ch∆∞a nh·∫≠p h·ªç t√™n';
                        break;
                    case 'preview-birthdate':
                        element.textContent = 'Ch∆∞a nh·∫≠p ng√†y sinh';
                        break;
                    case 'preview-gender':
                        element.textContent = 'Ch∆∞a ch·ªçn gi·ªõi t√≠nh';
                        break;
                    case 'preview-id':
                        element.textContent = 'Ch∆∞a nh·∫≠p CCCD';
                        break;
                    case 'preview-id-issue-place':
                        element.textContent = 'Ch∆∞a nh·∫≠p n∆°i c·∫•p';
                        break;
                    case 'preview-nationality':
                        element.textContent = 'Ch∆∞a nh·∫≠p qu·ªëc t·ªãch';
                        break;
                    case 'preview-ethnicity':
                        element.textContent = 'Ch∆∞a nh·∫≠p d√¢n t·ªôc';
                        break;
                    case 'preview-address':
                        element.textContent = 'Ch∆∞a nh·∫≠p ƒë·ªãa ch·ªâ';
                        break;
                    case 'preview-education-level':
                        element.textContent = 'Ch∆∞a nh·∫≠p tr√¨nh ƒë·ªô';
                        break;
                    case 'preview-education-time':
                        element.textContent = 'Ch∆∞a nh·∫≠p th·ªùi gian';
                        break;
                    case 'preview-school':
                        element.textContent = 'Ch∆∞a nh·∫≠p t√™n tr∆∞·ªùng';
                        break;
                    case 'preview-word-skill':
                        element.textContent = 'Ch∆∞a ch·ªçn tr√¨nh ƒë·ªô';
                        break;
                    case 'preview-excel-skill':
                        element.textContent = 'Ch∆∞a ch·ªçn tr√¨nh ƒë·ªô';
                        break;
                    case 'preview-personnel':
                        element.textContent = 'Ch∆∞a nh·∫≠p t√™n ng∆∞·ªùi ph·ª• tr√°ch';
                        break;
                }
            }
        }

        // Real-time preview updates
        nameInput.addEventListener('input', function() {
            updateFieldStyle(previewName, this.value);
        });

        birthdateInput.addEventListener('input', function() {
            updateFieldStyle(previewBirthdate, formatDate(this.value));
        });

        genderInput.addEventListener('change', function() {
            updateFieldStyle(previewGender, this.value);
        });

        idCardInput.addEventListener('input', function() {
            updateFieldStyle(previewId, this.value);
        });

        idIssuePlaceInput.addEventListener('input', function() {
            updateFieldStyle(previewIdIssuePlace, this.value);
        });

        nationalityInput.addEventListener('input', function() {
            updateFieldStyle(previewNationality, this.value);
        });

        ethnicityInput.addEventListener('input', function() {
            updateFieldStyle(previewEthnicity, this.value);
        });

        addressInput.addEventListener('input', function() {
            updateFieldStyle(previewAddress, this.value);
        });

        careerGoalsInput.addEventListener('input', function() {
            if (this.value.trim()) {
                const goals = this.value.split('\n')
                    .filter(goal => goal.trim())
                    .map(goal => `<li>${goal.trim()}</li>`)
                    .join('');
                previewCareerGoals.innerHTML = goals;
                previewCareerGoals.classList.remove('empty-field');
            } else {
                previewCareerGoals.innerHTML = `<li class="empty-field">Ch∆∞a nh·∫≠p m·ª•c ti√™u ngh·ªÅ nghi·ªáp</li>`;
                previewCareerGoals.classList.add('empty-field');
            }
        });

        educationLevelInput.addEventListener('input', function() {
            updateFieldStyle(previewEducationLevel, this.value);
        });

        educationTimeInput.addEventListener('input', function() {
            updateFieldStyle(previewEducationTime, this.value);
        });

        schoolInput.addEventListener('input', function() {
            updateFieldStyle(previewSchool, this.value);
        });

        wordSkillInput.addEventListener('change', function() {
            updateFieldStyle(previewWordSkill, this.value);
        });

        excelSkillInput.addEventListener('change', function() {
            updateFieldStyle(previewExcelSkill, this.value);
        });

        personnelInput.addEventListener('input', function() {
            updateFieldStyle(previewPersonnel, `NH√ÇN S·ª∞: ${this.value}`);
        });

        // Event listeners for buttons
        generatePdfButton.addEventListener('click', generatePDF);
        addExperienceBtn.addEventListener('click', addWorkExperience);
        photoUploadInput.addEventListener('change', handlePhotoUpload);
        removePhotoBtn.addEventListener('click', removePhoto);

        resetButton.addEventListener('click', function() {
            // Reset all form inputs
            document.querySelectorAll('input, textarea, select').forEach(input => {
                if (input.type !== 'button' && input.type !== 'file') {
                    if (!input.classList.contains('company-input') && 
                        !input.classList.contains('work-time-input') && 
                        !input.classList.contains('position-input') && 
                        !input.classList.contains('work-description-input')) {
                        input.value = '';
                    }
                }
            });
            
            // Remove all work experience sections
            workExperienceContainer.innerHTML = '';
            workExperienceCount = 0;
            
            // Remove photo
            removePhoto();
            
            // Trigger input events to update preview
            nameInput.dispatchEvent(new Event('input'));
            birthdateInput.dispatchEvent(new Event('input'));
            genderInput.dispatchEvent(new Event('change'));
            idCardInput.dispatchEvent(new Event('input'));
            idIssuePlaceInput.dispatchEvent(new Event('input'));
            nationalityInput.dispatchEvent(new Event('input'));
            ethnicityInput.dispatchEvent(new Event('input'));
            addressInput.dispatchEvent(new Event('input'));
            careerGoalsInput.dispatchEvent(new Event('input'));
            educationLevelInput.dispatchEvent(new Event('input'));
            educationTimeInput.dispatchEvent(new Event('input'));
            schoolInput.dispatchEvent(new Event('input'));
            wordSkillInput.dispatchEvent(new Event('change'));
            excelSkillInput.dispatchEvent(new Event('change'));
            personnelInput.dispatchEvent(new Event('input'));
            
            // Update work experience preview
            updateWorkExperiencePreview();
            
            showToast('ƒê√£ l√†m m·ªõi bi·ªÉu m·∫´u', 'success');
        });

        // Initialize with sample data for demonstration
        window.addEventListener('load', function() {
            // Add one work experience by default
            addWorkExperience();
            
            // Update work experience preview
            updateWorkExperiencePreview();
        });
    </script>
</body>
</html>